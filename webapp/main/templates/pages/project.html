<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0">
    <title>Project: {{ project.title }}</title>
    <link href="{{ url_for('static', path='/css/abop.css') }}" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', path='/abstractoperators_favicon.jpg') }}">

    <!-- htmx -->
    <script src="https://unpkg.com/htmx.org@2.0.2" integrity="sha384-Y7hw+L/jvKeWIRRkqWYfPcvVxHzVzn5REgzbawhxAuQGwX1XWe70vji+VSeHOThJ" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/ws.js"></script>

    <!-- hyperscript -->
    <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>

    <!-- Kantumruy Pro -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kantumruy+Pro:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">

    <!-- Judson -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Judson:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
</head>

<body>
    <a href="{{ url_for('get_orchestrator', orchestrator_id=project.orchestrator_id) }}">Back</a>
    <h1>{{ project.title }}</h1>
    <div hx-ext="ws" ws-connect="{{ url_for('project_chat_ws', orchestrator_id=project.orchestrator_id, project_id=project.id) }}">
        <ol
            id="group_chat"
            class="operator-card-list"
            hx-get="{{ url_for('get_project_chat', orchestrator_id=project.orchestrator_id, project_id=project.id) }}"
            hx-trigger="load"
        ></ol>
        <form
            ws-send
        >
            <textarea
                name="prompt"
                placeholder="Send a message"
                autocomplete="off"
                required
            ></textarea>
            <button hx-indicator="#grid">
                Send
            </button>
            <img id="#grid" class="htmx-indicator" src="{{ url_for('static', path='/grid.svg')}}">
        </form>
    </div>
</body>

</html>