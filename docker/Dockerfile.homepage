FROM python:3.11.10-bookworm 

RUN pip install uv==0.4.27

WORKDIR /app

COPY src ./src
COPY pyproject.toml .
COPY uv.lock .

COPY .env .

# App specifics
COPY webapp/homepage ./webapp/homepage
WORKDIR /app/webapp/homepage
RUN uv sync
RUN chmod +x ./scripts/start.sh
EXPOSE 80
CMD ["./scripts/start.sh"]

